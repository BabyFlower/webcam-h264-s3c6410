.SUFFIXES : .c .o

OBJECTS = display_test.o 				\
		  display_4_windows.o			\
		  display_optimization1.o		\
		  display_optimization2.o		\
		  cam_encoder_test.o			\
		  cam_enc_dec_test.o			\
		  cam_dec_preview.o				\
		  cam_dec_preview_tv.o			\
		  capture.o						\
		  jpeg_display.o				\
		  test_tv.o						\
		  ./Common/performance.o		\
		  ./Common/LogMsg.o				\
		  ./FrameExtractor/FileRead.o 		\
	  	  ./FrameExtractor/FrameExtractor.o \
		  ./FrameExtractor/H263Frames.o		\
		  ./FrameExtractor/H264Frames.o		\
		  ./FrameExtractor/MPEG4Frames.o	\
		  ./FrameExtractor/VC1Frames.o		\
		  ./JPEG_API/JPGApi.o				\
		  ./MFC_API/SsbSipH264Decode.o	\
		  ./MFC_API/SsbSipH264Encode.o	\
		  ./MFC_API/SsbSipMfcDecode.o	\
		  ./MFC_API/SsbSipMpeg4Decode.o	\
		  ./MFC_API/SsbSipMpeg4Encode.o	\
		  ./MFC_API/SsbSipVC1Decode.o
SRCS = $(OBJECTS:.o=.c)
DEPENDENCY = ./Common/lcd.h 			\
		     ./Common/LogMsg.h 			\
		     ./Common/mfc.h 			\
		     ./Common/MfcDriver.h 		\
		     ./Common/MfcDrvParams.h 	\
		     ./Common/performance.h 	\
			 ./Common/post.h			\
			 ./Common/videodev2.h		\
			 ./Common/videodev2_s3c.h	\
			 ./Common/videodev2_s3c_tv.h	\
			 ./FrameExtractor/FileRead.h 		\
		     ./FrameExtractor/FrameExtractor.h 	\
		     ./FrameExtractor/H263Frames.h 		\
		     ./FrameExtractor/H264Frames.h 		\
		     ./FrameExtractor/MPEG4Frames.h 	\
		     ./FrameExtractor/VC1Frames.h 		\
			 ./JPEG_APIJPGApi.h					\
			 ./MFC_API/SsbSipH264Decode.h		\
		     ./MFC_API/SsbSipH264Encode.h		\
		     ./MFC_API/SsbSipMfcDecode.h		\
		     ./MFC_API/SsbSipMpeg4Decode.h		\
		     ./MFC_API/SsbSipMpeg4Encode.h		\
		     ./MFC_API/SsbSipVC1Decode.h		\
			 display_test.h						\
			 display_4_windows.h				\
			 display_optimization1.h			\
   			 display_optimization2.h			\
	  		 cam_encoder_test.h					\
	  		 cam_enc_dec_test.h					\
	  		 cam_dec_preview.h					\
	  		 capture.h							\
	  		 jpeg_display.h

CC = /usr/local/arm/4.2.2-eabi/usr/bin/arm-linux-gcc
##CFLAGS = -g -c -DRGB24BPP -Os -Wall
INC = -I./Common -I./FrameExtractor -I./MFC_API -I./JPEG_API

KERNEL_PATH = /home/jaeryul/eldk_samba/kernel/s3c-linux-2[1].6.24_rel-2-1-2_080829_mod
CFLAGS = -g -c -Os -Wall
INC += -I$(KERNEL_PATH)/include     ## peter added


TARGET = app_tv

all : common frame_extractor jpeg_api mfc_api app_tv
common : 
		cd Common; $(MAKE)

frame_extractor : 
		cd FrameExtractor; $(MAKE)

jpeg_api : 
		cd JPEG_API; $(MAKE)

mfc_api : 
		cd MFC_API; $(MAKE)

$(TARGET) : $(OBJECTS)
		$(CC) -o $(TARGET) $(OBJECTS) -lpthread
		cp app_tv /home/jaeryul/eldk_nfs/GTK-DFB/peter/tvout_test

.c.o :
		$(CC) $(INC) $(CFLAGS) $<

clean :
		rm -rf $(OBJECTS) $(TARGET) core

